---
title: "PayOut API"
id: pay-out
description: "API for processing payouts using Fundstream."
openapi: "openapi POST /payout"
---

## PayOut Flows

### How it works
To initiate a payout, the merchant has to give Fundstream the PIX details such as the recipient's PIX key (e.g., CPF/CNPJ, phone number, or email), amount, and any additional information.

If the merchant has enough balance, then the transaction amount will be deducted from the merchant balance and sent to the user.


### Flow

#### **Process Overview**
##### **Initiation:**
1. **User initiates**: The process starts with a user requesting payout from the merchant.
2. **Merchant approval**: If everything is OK, the merchant approves payout request.

##### **Processing:**
1. **Payment details**: Using Fundstream's API, the merchant provides the recipient's Pix key (which can be a phone number, email, CPF/CNPJ, or random key) and the transfer amount.
2. **Funds check**: Fundstream verifies if sufficient funds are available in the merchant account to cover the transfer.
3. **Processing & Key mapping**: The recipient's Pix key is validated using the DICT (Transactional Identifier Directory). This central database links Pix keys with users' bank accounts.

##### **Payout:**
1. **Instant transfer**: If everything checks out, the payer's bank instantly transfers the funds to the recipient's bank account. The recipient typically receives confirmation messages from their respective bank about the successful transaction.

#### **POST Create PayOut**
```bash
https://api.fundstream.net/api/v1/payout/
```
To initiate a payout, the very first call to make is `/payout/` with the required data in the request body.

### Parameters

##### Mandatory Parameters:
| Parameter | Notes |
|-----------|-------|
| `client.full_name` |  |
| `client.documentId` | Document Type Supported:  
| `cpf` | tax_id Brazil |
| `cnpj` | tax_id Brazil company |
| `evp` | random key generated by the bank |
| `email` | email as key to receive pix |
| `phone` | phone as key to receive pix |
| `client.documentType` |  |
| `payoutMethod` |  |
| `Amount` |  |
| `Currency` | Note: This is the currency account for which you have balance |
| `success_redirect` | URL to send the user if the transaction is successful |
| `failure_redirect` | URL to send the user if the transaction is unsuccessful |
| `Purpose` |  |

### **Request Body**
```json
{
   "client": {
       "email": "test@gmail.com",
       "full_name": "Test test",
       "documentId": "97c1c590-554b-4449-a0f1-8da9f9756937",
       "documentType": "evp"
   },
   "purpose": "payout to test",
   "payoutMethod": "Payout-PIX",
   "amount": 10,
   "currency": "BRL",
   "success_callback": "https://Success.com",
   "failure_callback": "https://failure.com"
}
```
To generate a PayOut, you are required to provide the API key (in the header), which can be located in the Dashboard section of your merchant account login.

### **Example Request**
```bash
curl --location 'https://api.fundstream.net/api/v1/payout/' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer Token' \
--data-raw '{
   "client": {
       "email": "test@gmail.com",
       "full_name": "Test test",
       "documentId": "97c1c590-554b-4449-a0f1-8da9f9756937",
       "documentType": "evp"
   },
   "purpose": "payout to test",
   "payoutMethod": "Payout-PIX",
   "amount": 10,
   "currency": "BRL",
   "success_callback": "https://Success.com",
   "failure_callback": "https://failure.com"
}'
```

### **Example Response**
```json
{
   "payoutId": "65f93895c96bae142f7b1765",
   "client": {
       "email": "customer141@email.uk",
       "full_name": "Test Person-uk",
       "documentId": "97c1c590-554b-4449-a0f1-8da9f9756937",
       "documentType": "evp"
   },
   "updated_on": 1710831765,
   "payoutMethod": "Payout-PIX",
   "amountUnit": "MAJOR",
   "amount": 20.0,
   "errorMsg": "errors.wallet.transfer_balance_insufficient",
   "created_on": 1710831768,
   "merchantRef": "65f93895c96bae142f7b1765",
   "merchantName": "test",
   "status": "ERROR",
   "status_history": [
       {
           "status": "created",
           "timestamp": 1710831765
       },
       {
           "status": "error",
           "timestamp": 1710831768
       }
   ],
   "currency": "EUR",
   "success_callback": "https://Success.com",
   "failure_callback": "https://failure.com"
}
```

## **GET Payout Status**

### **Endpoint**
```bash
https://api.fundstream.net/api/v1/getpayout/{payoutId}/
```
This API provides details of a Payout, including its history.

### **Mandatory Parameter**
- `payoutId` must be passed in the API URL.

### **Possible Status Values**
| Status | Notes |
|--------|-------|
| `paid` | Transaction Successful |
| `payout_in_process` | Payout is under Processing. |
| `error` | Transaction has Failed. |

> The webhook will only be triggered for `paid` transactions or `errors`.

### **Example Request**
```bash
curl --location -g 'https://api.fundstream.net/api/v1/getpayout/{payoutId}/'
```
### **Example Response**
```json
{
   "payoutId": "65f93895c96bae142f7b1765",
   "client": {
       "email": "customer141@email.uk",
       "full_name": "Test Person-uk",
       "documentId": "97c1c590-554b-4449-a0f1-8da9f9756937",
       "documentType": "evp",
   },
   "updated_on": 1710831765,
   "payoutMethod": "Payout-PIX",
   "amountUnit": "MAJOR",
   "amount": 20.0,
   "errorMsg": "errors.wallet.transfer_balance_insufficient",
   "created_on": 1710831768,
   "merchantRef": "65f93895c96bae142f7b1765",
   "merchantName": "test",
   "status": "ERROR",
   "status_history": [
       {
           "status": "created",
           "timestamp": 1710831765
       },
       {
           "status": "error",
           "timestamp": 1710831768
       }
   ],
   "currency": "EUR",
   "success_callback": https: //Success.com
   "failure_callback": "https://failure.com"
}
```